# GitHub Authentication

With GitHub authentication, users can log in to your Coder deployment using their GitHub account. GitHub Enterprise deployments are also supported.

> **Note**: [group sync](#todo) and [role sync](#) are not supported for GitHub authentication methods.

## Configuring

### Step 1: Configure the OAuth application in GitHub

First, [register a GitHub OAuth app](https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/). GitHub will ask you for the following Coder parameters:

- **Homepage URL**: Set to your Coder deployments [`CODER_ACCESS_URL`](https://coder.com/docs/v2/latest/cli/server#--access-url) (e.g. `https://coder.example.com`)
- **User Authorization Callback URL**: Set to `https://coder.example.com/api/v2/users/oauth2/github/callback`

> Note: If you want to allow multiple coder deployments hosted on subdomains e.g. coder1.example.com, coder2.example.com, to be able to authenticate with the same GitHub OAuth app, then you can set **User Authorization Callback URL** to the `https://example.com`

Note the Client ID and Client Secret generated by GitHub. You will use these
values in the next step.

### Step 2: Configure Coder with the OAuth credentials

See [configuring Coder](../configure.md) to learn how to modify your server configuration depending on your platform (e.g. Kubernetes, system service, etc).

Set the following environment variables for your Coder server:

```console
CODER_OAUTH2_GITHUB_ALLOW_SIGNUPS=true
CODER_OAUTH2_GITHUB_ALLOWED_ORGS="your-org"
CODER_OAUTH2_GITHUB_CLIENT_ID="8d1...e05"
CODER_OAUTH2_GITHUB_CLIENT_SECRET="57ebc9...02c24c"
```

If you are using GitHub enterprise, set:

```console
CODER_OAUTH2_GITHUB_ENTERPRISE_BASE_URL=https://github.example.com
```

To allow everyone to signup using GitHub, set:

```console
CODER_OAUTH2_GITHUB_ALLOW_EVERYONE=true
```

To restrict specific teams, set:

```console
CODER_OAUTH2_GITHUB_ALLOWED_TEAMS=frontend,backend
```

Once complete, restart your server. GitHub authentication should appear on your log-in screen ðŸŽ‰

![Log in with GitHub button](https://user-images.githubusercontent.com/22407953/261880741-87bfb1cb-7ea3-41b5-8eef-200552157cda.png)

> We recommend requiring and auditing MFA usage for all users in your GitHub
> organizations. This can be enforced from the organization settings page in the
> "Authentication security" sidebar tab.

## Restrict GitHub Signups

If you wish to manually onboard users, or use a [script](../automation.md) to add users to Coder, set:

```console
CODER_OAUTH2_GITHUB_ALLOW_SIGNUPS=false
```

This will prevent new users from logging in via GitHub. An admin can manually add GitHub users from the "Users" page.
